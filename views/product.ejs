<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="/css/main.css" rel="stylesheet" />
    <script src="../clientside.js"></script>
</head>
<body>

<%- include("partials/_category.ejs") %>

<%if (shoppingCart){%>
  <%- include("partials/_shoppingCart.ejs") %> 
<%}%>

<%if(error!=""){%>
  <%- include("partials/_error.ejs") %>
<%}%>

<div class="category-container">
<% if(product.length > 0){%>
<%  for(let i = 0; i < product.length; i++){%>
  <div class="product-container">
    <div class="image-container">
      <img src="/images/<%=product[i].image.path%>">
    </div>
    <div class="product-info-container">
      <h3> <a href="/specific/<%=product[i]._id%>"><%= product[i].name %></a></h3>
      <p class="product-price"><%= product[i].price %> SEK</p>
    </div>
  </div>
  <%}%>
</div>




<% if(totalData !== dataToShow && totalData >= dataToShow){%>

    <a href="/<%=product[0].category%>/?page=<%=(dataToShow/dataPerPage)+1%>">Show more</a>

    <% }else if(totalData <= 2) { %> 
        <% } else { %>
    <a href="/<%=product[0].category%>/?page=1">Show fewer</a>
    <%} %>
  </div>

  <a href="/<%=product[0].category%>/?page=<%=(dataToShow/dataPerPage)%>&&sorted=1">
    Sort by A-Z
  </a>
  <a href="/<%=product[0].category%>/?page=<%=(dataToShow/dataPerPage)%>&&sorted=-1">
    Sort by Z-A
  </a>
<% } else{ %>
    <h2 class="no-products-header">no products</h2>
<%}%>

</body>
</html>
